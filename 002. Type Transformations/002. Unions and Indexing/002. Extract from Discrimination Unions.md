Alright, now that we know what 'Discriminated Unions' are, let's see how we can extract a specific type from such a union.

Suppose, we have a discriminated union type like this:

    type MyEvent = 
        | {
            type: 'click';
            event: 'MouseEvent';
        }
        | {
            type: 'keydown';
            event: 'KeyboardEvent';
        }
        | {
            type: 'focus';
            event: 'FocusEvent';
        };

Here, 'MyEvent' is a discriminated union with three different event types, each having a 'type' property that acts as the discriminator.

What if we want to create a new type by taking out the 'click' event from this union? This means, we want something like -

    type ClickEvent = {
        type: 'click';
        event: 'MouseEvent';
    };

So, how can we extract this type from the 'MyEvent' union?

We can use the 'Extract' utility type provided by TypeScript. The 'Extract' type allows us to extract types from a union that are assignable to a specific type.

This type has a syntax -

    type Extract<T, U> = T extends U ? T : never;

So, it takes not one but two type parameters - 'T' (the union type) and 'U' (the type we want to extract).

We can use it like this in our case -

    type ClickEvent = Extract<MyEvent, { type: 'click' }>;

Basically, when we provide the second type parameter as '{ type: 'click' }', TypeScript goes through each member of the 'MyEvent' union and checks if it extends the provided type. If it does, that member is included in the resulting type; otherwise, it's excluded.

This means, we could've also done it this way -

    type ClickEvent = Extract<MyEvent, { event: 'MouseEvent' }>;

Here, we are extracting the type based on the 'event' property instead of the 'type' property. The result would still be the same.

Remember that 'Extract' does not just return us the first matching type; it returns all types that match the condition. So, if there were multiple types in the union that matched the criteria, they would all be included in the resulting type.

For example, if we had -

    type MyEvent = 
        | {
            type: 'click';
            event: 'MouseEvent';
        }
        | {
            type: 'click';
            event: 'PointerEvent';
        }
        | {
            type: 'keydown';
            event: 'KeyboardEvent';
        };

Then, using -

    type ClickEvent = Extract<MyEvent, { type: 'click' }>;

This will not only extract the first 'click' event type but also the second one, resulting in -

    type ClickEvent = 
        | {
            type: 'click';
            event: 'MouseEvent';
        }
        | {
            type: 'click';
            event: 'PointerEvent';
        };

So, remember that 'Extract' will give you all matching types from the union.

And this is not limited to only the object types. You can use 'Extract' with any union type.

For example, we can do -

    type Fruit = 'apple' | 'banana' | 'orange' | 'grape';
    type BananaAndGrape = Extract<Fruit, 'banana' | 'grape'>;