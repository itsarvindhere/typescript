Let's say we have this type -

    type ButtonAttributes = {
        type: 'button' | 'submit' | 'reset';
    }

This is a simple object type where we have a single property 'type' whose type is a Union of literal types. It means, it can only have one of the three values - 'button', 'submit' or 'reset'.

Let's say we are creating a new object of this type and we want to pass the type property value from some variable. You might think we can do something like this -

    let type = 'button';

    const buttonAttributes: ButtonAttributes = {
        type
    }

Well, this seems like a valid code because the variable 'type' has the value 'button' which is one of the allowed values for the property 'type' in the ButtonAttributes type.

But TypeScript will throw an error here -

    Type 'string' is not assignable to type '"button" | "submit" | "reset"'.

If we had written -

    const buttonAttributes: ButtonAttributes = {
        type: 'button'
    }

This would have worked fine. So why is TypeScript complaining when we use a variable?

Well, the issue is with our variable 'type' which we have declared like this -

    let type = 'button';

If you hover over 'type' its type will not be 'button'. It will be 'string'. That's because TypeScript sees that the variable has been defined using 'let' which means that its value can be changed later. So, we can do something like this -

    type = 'someOtherString';

That's why, TypeScript infers the type of 'type' variable as 'string' and not the literal type 'button'. And since 'string' is a broader type than the union of literal types, TypeScript throws an error.

The simplest solution? Well, we can use 'const' instead of 'let' to declare the variable. This way, its value cannot be changed later and TypeScript will infer its type as the literal type 'button'.

    const type = 'button';

Since a constant variable cannot be reassigned, TypeScript knows that its value will always be 'button' and hence its type is inferred as the literal type 'button'.

But, this may not be the solution we want because what if before we assign the 'type' in the object, we want to maybe have some checks based on which we decide what value to assign to 'type'. In that case, we cannot use 'const'.

What we can also do is we can explicitly tell TypeScript that the variable 'type' can be one of the three literal types. We can do that by using a type annotation like this -

    let type: 'button' | 'submit' | 'reset' = 'button';

And now, this will work fine because now TypeScript knows that the variable 'type' can only have one of the three allowed values and hence it is safe to assign it to the property 'type' in the ButtonAttributes type. Moreover, we cannot reassign 'type' to any other value which is not one of the three allowed values. For example, if we try to do this -

    type = 'someOtherString';

We will get an error.