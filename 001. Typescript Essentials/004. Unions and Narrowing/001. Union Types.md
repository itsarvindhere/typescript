Let's say we have this piece of code -

    function getUsername(username: string) {
        if (username !== null){
            return `User: ${username}`;
        }

        return 'Guest';
    }

We have a simple function that takes a username as input and returns a string.

If the username is null, we return 'Guest'.

The issue here is that, while we can call this function like this -

    getUsername("Alice");

We cannot call this function like this -

    getUsername(null);

Even though we have an explicit check for 'null', TypeScript is not allowing us to provide 'null' values to this function.

The reason is that we have explicitly mentioned that 'getUserName' can only accept a 'string' value. What we actually need is to tell TypeScript that this function can also accept 'null' as a valid input.

How to fix that? Of course one solution is to use 'any' like this -

    function getUsername(username: any) {
        if (username !== null){
            return `User: ${username}`;
        }

        return 'Guest';
    }

While this will fix the error, the issue now is that 'username' can be anything, not just string or null. It can be an object, a number, a boolean, etc. So, this is not a good fix at all.

The solution to this problem is to use a 'Union Type'.

# UNION TYPES IN TYPESCRIPT

A union type is a type formed from two or more other types, representing values that may be any one of those types. We refer to each of these types as the unionâ€™s members.

It can be defined using the pipe (|) operator. We separate the different union members using the 'pipe' operator. So, in our case, we can write -

    function getUsername(username: string | null) {
        // CODE
    }

So now, we are saying that 'username' can be either 'string' or 'null', and nothing else.

Let's take another example -

    function getUppercase(s: string) {
        return s.toUpperCase();
    }

Here, we have a function that takes a string and returns the uppercase version of it. Now, what if we want to modify this function to also accept 'null' values and return 'null' in that case?

We can use a union type here like this -

    function getUppercase(s: string | null) {
        return s.toUpperCase();
    }

But there is now one problem with this.

Now, the ide will show an error saying -

    's' is possibly 'null'

And it makes sense because since getUppercase can be called with a null value, we need to handle that case. A way to fix this is to add a check for null before calling toUpperCase:

    function getUppercase(s: string | null) {
        if (s === null) {
            return '';
        }
        return s.toUpperCase();
    }

Now, the function will return '' if the input is null, and the IDE will not show any errors.

Similarly, let's say we have this function - 

    function printId(id: number | string) {
        console.log(id.toUpperCase());
    }

Here too, we have a similar issue. We are using the 'toUpperCase()' method on the 'id'. While it should work fine if 'id' is a string, it is worth mentioning that 'id' can also be 'number'. And numbers do not have the 'toUpperCase()' method.

That's why, Typescript throws an error saying -

    Property 'toUpperCase' does not exist on type 'string | number'.
        Property 'toUpperCase' does not exist on type 'number'

Again, we have to add a check to make sure that 'id' is a string before calling 'toUpperCase()' on it.

    function printId(id: number | string) {
        if (typeof id === "string") {
            console.log(id.toUpperCase());
        } else {
            console.log(id);
        }
    }
