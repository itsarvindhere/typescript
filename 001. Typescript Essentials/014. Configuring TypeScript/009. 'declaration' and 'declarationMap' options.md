So, in our tsconfig file, we can configure things like in which directory the compiled code should go, what module system to use, the target version of JavaScript, etc.

What if we are building a library that others will use? Maybe we will publish it to npm. In that case, like other third party libraries, we should also provide type definitions so that TypeScript users can get type checking and autocompletion when they use our library.

One way is to manually create a separate '.d.ts' file that contains the type definitions for our library. But that can be tedious and error-prone.

What if TypeScript does it automatically for us as it compiles our code? That would be great!

That's where we can use the 'declaration' option in our tsconfig file. When we set 'declaration' to 'true', TypeScript will generate '.d.ts' files alongside the compiled JavaScript files in the output directory.

Once we enable this option, now, alongside the javaScript files in the 'dist' folder, we will also see corresponding '.d.ts' files that contain the type definitions for our library.

For example, if we have an index.ts with -

    export const func = (input: string) => {
        console.log(input);
    }

Then, after compilation, we will get an index.js and an index.d.ts in the 'dist' folder. The index.d.ts will look like this -

    export declare const func: (input: string) => void;

So, by enabling the 'declaration' option, we can easily bundle our TypeScript code for library use, providing type definitions automatically to our users.

Now, if someone installs our library from npm and uses it in their TypeScript project, they will get full type checking and autocompletion support!

# NAVIGATE TO SOURCE FILE INSTEAD OF DECLARATION FILE

Now, with declaration files, there is one thing that might be annoying.

When we try to navigate to the definition of a function or variable from our library in an IDE like VSCode, it takes us to the declaration file (.d.ts) instead of the actual source file (.ts). This can be inconvenient if we want to see the implementation details.

For example, let's say we have some file that uses our library like this -

    import {func} from '../dist/index.js'; // JUST FOR TESTING PURPOSES

    func('Hello, TypeScript!');

Now, what if we want to see the implementation of 'func' by navigating to its definition?

Usually, we ctrl + click on 'func'. But this takes us to the index.d.ts file instead of index.ts. This is annoying because we specifically imported from 'index.js' in the dist folder. So, it should ideally take us to the source file.

That's where we can use the 'declarationMap' option in our tsconfig file. When we set 'declarationMap' to 'true', TypeScript will generate source maps for the declaration files.

Now, you will see that the output folder has not just the .js and .d.ts files, but also .d.ts.map files. These map files link the declaration files back to the original source files.

And now, when we ctrl + click on 'func' in our test file, it takes us to the actual implementation in index.ts instead of index.d.ts. This makes it much easier to navigate and understand the code.